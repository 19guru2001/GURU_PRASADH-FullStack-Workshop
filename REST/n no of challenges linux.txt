#!/bin/bash

if [ -z "$1" ]; then
    echo "Usage: ./file-organizer.sh /path/to/directory"
    exit 1
fi

TARGET_DIR="$1"

if [ ! -d "$TARGET_DIR" ]; then
    echo "Error: Directory does not exist."
    exit 1
fi

cd "$TARGET_DIR" || exit 1

declare -A file_count

for file in *; do
    if [ -f "$file" ]; then
        ext="${file##*.}"

        if [ "$file" = "$ext" ]; then
            ext="no_extension"
        fi

        mkdir -p "$ext"

        mv "$file" "$ext/"

        ((file_count["$ext"]++))
    fi
done

echo "ðŸ“Š Organization Summary:"
for ext in "${!file_count[@]}"; do
    echo "Organized ${file_count[$ext]} .$ext files"
done







2




#!/bin/bash

if [ $# -ne 2 ]; then
    echo "Usage: ./process-monitor.sh <process_name> <interval_in_seconds>"
    exit 1
fi

PROCESS_NAME="$1"
INTERVAL="$2"

if ! [[ "$INTERVAL" =~ ^[0-9]+$ ]]; then
    echo "Error: Interval must be a positive number"
    exit 1
fi

echo "Monitoring process '$PROCESS_NAME' every $INTERVAL seconds..."
echo "-----------------------------------------------"

while true; do
    TIMESTAMP=$(date "+%Y-%m-%d %H:%M:%S")

    if pgrep "$PROCESS_NAME" > /dev/null; then
        echo "[$TIMESTAMP] $PROCESS_NAME is running"
    else
        echo "[$TIMESTAMP] ALERT: $PROCESS_NAME has stopped!"
        exit 0
    fi

    sleep "$INTERVAL"
done




3




#!/bin/bash

THRESHOLD=${1:-90}

if ! [[ "$THRESHOLD" =~ ^[0-9]+$ ]] || [ "$THRESHOLD" -le 0 ] || [ "$THRESHOLD" -gt 100 ]; then
    echo "Usage: ./disk-alert.sh [threshold_percentage]"
    echo "Example: ./disk-alert.sh 80"
    exit 1
fi

ALERT=0

df -hP | awk 'NR>1 {print $1, $5}' | while read -r filesystem usage; do
    # Remove % sign
    usage_percent=${usage%\%}

    if [ "$usage_percent" -ge "$THRESHOLD" ]; then
        echo "WARNING: $filesystem is at $usage_percent% (threshold: $THRESHOLD%)"
        ALERT=1
    else
        echo "OK: $filesystem is at $usage_percent%"
    fi
done

exit $ALERT






4


#!/bin/bash

if [ $# -ne 2 ]; then
    echo "Usage: ./backup.sh <source_directory> <backup_destination>"
    exit 1
fi

SOURCE_DIR="$1"
BACKUP_DIR="$2"

if [ ! -d "$SOURCE_DIR" ]; then
    echo "Error: Source directory does not exist."
    exit 1
fi

mkdir -p "$BACKUP_DIR"

TIMESTAMP=$(date +"%Y%m%d-%H%M%S")
BACKUP_FILE="backup-$TIMESTAMP.tar.gz"
BACKUP_PATH="$BACKUP_DIR/$BACKUP_FILE"

tar -czf "$BACKUP_PATH" -C "$(dirname "$SOURCE_DIR")" "$(basename "$SOURCE_DIR")"

if [ $? -ne 0 ]; then
    echo "Backup failed!"
    exit 1
fi

BACKUP_SIZE=$(du -h "$BACKUP_PATH" | cut -f1)

echo "Backup created: $BACKUP_FILE"
echo "Backup size: $BACKUP_SIZE"

cd "$BACKUP_DIR" || exit 1
ls -1t backup-*.tar.gz | tail -n +6 | xargs -r rm --

echo "Old backups cleaned up (keeping last 5)"





5

#!/bin/bash

echo "=== User Audit Report ==="

TOTAL_USERS=$(wc -l < /etc/passwd)
echo "Total users: $TOTAL_USERS"

SHELL_USERS=$(awk -F: '$7 !~ /(nologin|false)/ {print $1}' /etc/passwd)
SHELL_USER_COUNT=$(echo "$SHELL_USERS" | wc -l)

echo "Users with shell access: $SHELL_USER_COUNT"

NO_PASSWORD_USERS=()

while IFS=: read -r username password _; do
    if [[ "$password" == "" || "$password" == "!" || "$password" == "*" ]]; then
        NO_PASSWORD_USERS+=("$username")
    fi
done < /etc/shadow 2>/dev/null

NO_PASSWORD_COUNT=${#NO_PASSWORD_USERS[@]}
echo "Users without password: $NO_PASSWORD_COUNT"

for user in "${NO_PASSWORD_USERS[@]}"; do
    echo "  - $user"
done

echo "Last login info for shell users:"

for user in $SHELL_USERS; do
    LAST_LOGIN=$(lastlog -u "$user" | awk 'NR==2 {print $4, $5, $6}')
    if [[ "$LAST_LOGIN" == "" ]]; then
        LAST_LOGIN="Never logged in"
    fi
    echo "  - $user: $LAST_LOGIN"
done
