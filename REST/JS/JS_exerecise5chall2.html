<!DOCTYPE html>
<html>
<body>
<h1>JavaScript Objects</h1>
<h2>Object Destructuring</h2>

<p id="demo"></p>

<script>

function createRateLimiter(fn, limit, interval) {
    let calls = [];

    return function (...args) {
        const now = Date.now();

       
        calls = calls.filter(time => now - time < interval);

        if (calls.length >= limit) {
            return false; 
        }

        calls.push(now);
        fn.apply(this, args);
        return true;
    };
}
const limitedFetch = createRateLimiter(
    (url) => console.log('Fetching:', url),
    3,      
    1000    
);

console.log(limitedFetch('/api/1'));
console.log(limitedFetch('/api/2'));
console.log(limitedFetch('/api/3'));
console.log(limitedFetch('/api/4')); 

setTimeout(() => {
    console.log(limitedFetch('/api/5')); 
}, 1100);


</script>

</body>
</html>